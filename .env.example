# Agent Skills MCP Server Configuration

# Skills Directory (default: ./skills)
# SKILLS_DIRECTORY=./skills

# Additional Skill Directories (comma-separated, default: none)
# community-skills/ など追加のスキルディレクトリを指定可能
# ADDITIONAL_SKILLS_DIRS=community-skills

# ============================================================
# Logging Configuration
# ============================================================
# ログレベル: DEBUG, INFO, WARNING, ERROR
# INFO: 最小限の実行履歴のみ（デフォルト）
# DEBUG: 詳細なログ（LLMレスポンス全文含む）
# LOG_LEVEL=INFO

# ============================================================
# Default LLM Model Configuration
# ============================================================
# モデル指定形式: <provider>/<model-name>
# 以下のいずれかを選択してコメントを外してください

# --- Anthropic API ---
# DEFAULT_MODEL=anthropic/claude-3-5-sonnet-20241022
# DEFAULT_MODEL=anthropic/claude-3-5-haiku-20241022
# DEFAULT_MODEL=anthropic/claude-sonnet-4-5-20250929

# --- AWS Bedrock ---
# DEFAULT_MODEL=bedrock/anthropic.claude-3-5-sonnet-20241022-v2:0
# DEFAULT_MODEL=bedrock/anthropic.claude-3-5-haiku-20241022-v1:0
# DEFAULT_MODEL=bedrock/us.anthropic.claude-sonnet-4-5-v1:0

# --- Google Vertex AI (Claude) ---
# DEFAULT_MODEL=vertex_ai/claude-3-5-sonnet-v2@20241022
# DEFAULT_MODEL=vertex_ai/claude-3-5-haiku@20241022
# DEFAULT_MODEL=vertex_ai/claude-sonnet-4-5@20250929

# --- Google Vertex AI (Gemini) ---
# DEFAULT_MODEL=vertex_ai/gemini-3-flash-preview  # Gemini 3 (最新プレビュー)
# DEFAULT_MODEL=vertex_ai/gemini-2.5-pro
# DEFAULT_MODEL=vertex_ai/gemini-2.0-flash-exp
# DEFAULT_MODEL=vertex_ai/gemini-1.5-pro
# DEFAULT_MODEL=vertex_ai/gemini-1.5-flash

# ============================================================
# Provider-Specific Credentials
# ============================================================

# --- Anthropic API ---
# 直接Anthropic APIを使用する場合に必要
# ANTHROPIC_API_KEY=sk-ant-your-api-key-here

# --- AWS Bedrock ---
# AWS Bedrockを使用する場合に必要
# AWS_ACCESS_KEY_ID=your-access-key-id
# AWS_SECRET_ACCESS_KEY=your-secret-access-key
# AWS_REGION_NAME=us-east-1

# --- Google Vertex AI ---
# Google Cloud Vertex AIを使用する場合に必要
# VERTEXAI_PROJECT=your-gcp-project-id
# VERTEXAI_LOCATION=us-central1
# 注: Vertex AIの認証はApplication Default Credentials (ADC)を使用します
#     gcloud auth application-default login を実行してください

# ============================================================
# Semantic Search Configuration
# ============================================================
# ChromaDB + sentence-transformers によるセマンティック検索の設定

# 埋め込みモデル（50+言語対応）
# EMBEDDING_MODEL=paraphrase-multilingual-MiniLM-L12-v2

# デフォルトの検索結果数
# SEMANTIC_SEARCH_LIMIT=10

# セマンティック検索の有効/無効（無効時はキーワード検索にフォールバック）
# SEMANTIC_SEARCH_ENABLED=true

# 最小類似度しきい値（0-1）。この値未満の結果は除外される
# SEMANTIC_SEARCH_THRESHOLD=0.3

# ============================================================
# Skill Creation/Management Configuration
# ============================================================
# スキル作成・編集・削除機能の有効/無効（デフォルト: 有効）
# 無効にすると、skills_manage ツールが使用不可になります
# SKILLS_CREATION_ENABLED=true

# managed-skills/ 内のサブディレクトリ名（デフォルト: "default"）
# 将来的にユーザーIDやメールアドレスを設定することで、ユーザーごとのスキル管理が可能
# MANAGED_SKILLS_USER=default

# ============================================================
# Skill-Specific Configuration
# ============================================================
# スキル固有の環境変数は {SKILL_NAME}_{VARIABLE_NAME} 形式で設定

# --- NotePM Skill ---
# NotePMの検索とコンテンツ取得機能を提供するスキル
# NOTEPM_SKILL_TEAM=your-notepm-team-name
# NOTEPM_SKILL_API_TOKEN=your-notepm-api-token

# --- 将来のスキル例 ---
# GITHUB_SKILL_TOKEN=your-github-token
# SLACK_SKILL_WEBHOOK_URL=your-slack-webhook-url
# JIRA_SKILL_API_KEY=your-jira-api-key

# ============================================================
# OIDC/OAuth Authentication Configuration (Optional)
# OIDC/OAuth認証設定（オプション、HTTPトランスポート専用）
# ============================================================
# 標準OIDC準拠の任意のプロバイダー（Google、Azure AD、Oktaなど）で利用可能
# Supports any OIDC-compliant provider (Google, Azure AD, Okta, etc.)

# OAuth認証を有効にする（HTTPトランスポートでのみ動作）
# OAUTH_ENABLED=true

# --- Google OAuth Configuration Example ---
# 以下はGoogle OAuthの設定例です。他のOIDCプロバイダーでも同様に設定できます。

# OIDC設定エンドポイント（例: Google）
# OAUTH_CONFIG_URL=https://accounts.google.com/.well-known/openid-configuration

# OAuthクライアントID（プロバイダーの管理画面から取得）
# OAUTH_CLIENT_ID=your-client-id.apps.googleusercontent.com

# OAuthクライアントシークレット（プロバイダーの管理画面から取得）
# OAUTH_CLIENT_SECRET=your-client-secret

# FastMCPサーバーの公開ベースURL（デフォルト: http://localhost:8080）
# 注: OAuthプロバイダー側で「承認済みのリダイレクトURI」に {BASE_URL}/auth/callback を登録
# 　　（例: Google Cloud Consoleの「承認済みのリダイレクトURI」設定画面）
# OAUTH_SERVER_BASE_URL=http://localhost:8080

# 必須スコープ（カンマ区切り）
# OAUTH_REQUIRED_SCOPES=openid,email,profile

# 許可するMCPクライアントのリダイレクトURI（カンマ区切り、ワイルドカード対応）
# 未設定: すべてのリダイレクトURIを許可（開発環境向け）
# 設定済: 指定されたパターンのみ許可（本番環境推奨）
# 本番環境例: OAUTH_ALLOWED_REDIRECT_URIS=https://claude.ai/*,https://*.anthropic.com/*
# ローカル開発例: OAUTH_ALLOWED_REDIRECT_URIS=http://localhost:*,http://127.0.0.1:*

# --- Opaque Token Verification ---
# アクセストークンがJWTではなく不透明トークンの場合（Googleなど）、
# tokeninfoエンドポイントを使用してトークンを検証します。
# Googleの場合は自動検出されるため、通常は設定不要です。

# カスタムtokeninfoエンドポイント（明示的に指定する場合）
# OAUTH_TOKENINFO_URL=https://oauth2.googleapis.com/tokeninfo

# --- Google OAuth Advanced Options ---
# Google固有の追加設定（他のプロバイダーでは不要）

# リフレッシュトークンサポート（Google専用: "offline" を設定）
# GOOGLE_OAUTH_ACCESS_TYPE=offline

# 初回同意画面を強制（Google専用: "consent" を設定）
# GOOGLE_OAUTH_PROMPT=consent

# --- Other OIDC Providers Examples ---

# Azure AD:
# OAUTH_CONFIG_URL=https://login.microsoftonline.com/{tenant-id}/v2.0/.well-known/openid-configuration

# Okta:
# OAUTH_CONFIG_URL=https://your-domain.okta.com/.well-known/openid-configuration
